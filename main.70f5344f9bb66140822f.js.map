{"version":3,"sources":["webpack:///./js/pnotify.js","webpack:///./js/refs.js","webpack:///./js/apiService.js","webpack:///./js/gallery-markup.js","webpack:///./index.js","webpack:///./templates/image-item.hbs"],"names":["PNotify","defaults","styling","icons","width","refs","form","document","querySelector","gallery","fetchImageQuery","query","fetch","then","res","json","data","hits","markup","arr","length","notice","title","reduce","acc","item","imageItem","insertAdjacentHTML","addEventListener","debounce","event","preventDefault","target","value","innerHTML","nodeName","largeImgUrl","dataset","srcset","basicLightbox","show","InfiniteScroll","path","this","pageIndex","history","on","console","log","Handlebars","module","exports","template","container","depth0","helpers","partials","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call"],"mappings":"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","file":"main.70f5344f9bb66140822f.js","sourcesContent":["import PNotify from 'pnotify/dist/es/PNotify.js';\r\nimport PNotifyButtons from 'pnotify/dist/es/PNotifyButtons.js';\r\nimport PNotifyStyleMaterial from 'pnotify/dist/es/PNotifyStyleMaterial.js';\r\nimport 'material-design-icons/iconfont/material-icons.css';\r\n\r\nPNotify.defaults.styling = 'material';\r\nPNotify.defaults.icons = 'material';\r\nPNotify.defaults.width = '400px';\r\n\r\nexport default PNotify;\r\n","const refs = {\r\n  form: document.querySelector('#search-form'),\r\n  gallery: document.querySelector('.gallery'),\r\n};\r\n\r\nexport default refs;\r\n","const apiKey = '16159179-9a5d2f4d64cb4ee75e82dc2d4';\r\n\r\nfunction fetchImageQuery(query) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=1&per_page=12&key=${apiKey}`,\r\n  )\r\n    .then(res => res.json())\r\n    .then(data => data.hits);\r\n}\r\n\r\nexport default fetchImageQuery;\r\n\r\n// &page=${page}\r\n","import PNotify from '../js/pnotify';\r\nimport imageItem from '../templates/image-item.hbs';\r\nimport refs from '../js/refs';\r\n\r\nfunction markup(arr) {\r\n  // refs.gallery.innerHTML = '';\r\n\r\n  if (arr.length === 0) {\r\n    PNotify.notice({\r\n      title: 'Not match found.',\r\n    });\r\n  }\r\n\r\n  const markup = arr.reduce((acc, item) => {\r\n    const listItem = imageItem(item);\r\n    acc += listItem;\r\n    return acc;\r\n  }, '');\r\n\r\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nexport default markup;\r\n","import debounce from 'lodash.debounce';\nimport PNotify from './js/pnotify';\nimport * as basicLightbox from 'basiclightbox';\nimport '../node_modules/basiclightbox/src/styles/main.scss';\nimport InfiniteScroll from 'infinite-scroll';\n\nimport refs from './js/refs';\nimport fetchImageQuery from './js/apiService';\nimport markup from './js/gallery-markup';\n\nimport './styles.css';\n\nrefs.form.addEventListener('input', debounce(onInput, 500));\nrefs.gallery.addEventListener('click', onOpenModal);\n\nlet query = '';\nconst apiKey = '16159179-9a5d2f4d64cb4ee75e82dc2d4';\n\nfunction onInput(event) {\n  event.preventDefault();\n  query = event.target.value;\n\n  if (query.length === 0) {\n    refs.gallery.innerHTML = '';\n    return;\n  }\n\n  fetchImageQuery(query).then(data => markup(data));\n}\n\nfunction onOpenModal(event) {\n  event.preventDefault();\n\n  if (event.target.nodeName !== 'IMG') {\n    return;\n  }\n\n  const largeImgUrl = event.target.dataset.srcset;\n\n  const instance = basicLightbox.create(`\n      <img src=\"${largeImgUrl}\" alt=\"\">\n  `);\n\n  instance.show();\n}\n\n// ===================================\n\nconst infScroll = new InfiniteScroll('.gallery', {\n  path: function () {\n    return (\n      'https://cors-anywhere.herokuapp.com/https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=' +\n      query +\n      '&page=' +\n      (this.pageIndex + 1) +\n      '&per_page=12&key=' +\n      apiKey\n    );\n  },\n  history: false,\n});\n\ninfScroll.on('request', function (path) {\n  console.log(path);\n  fetch(path)\n    .then(res => res.json())\n    .then(data => markup(data.hits));\n});\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"photo-card\\\">\\r\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":14},\"end\":{\"line\":2,\"column\":30}}}) : helper)))\n    + \"\\\" data-srcset=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":45},\"end\":{\"line\":2,\"column\":62}}}) : helper)))\n    + \"\\\" alt=\\\"\\\" width=\\\"320\\\" />\\r\\n\\r\\n    <div class=\\\"stats\\\">\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":12},\"end\":{\"line\":7,\"column\":21}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">visibility</i>\\r\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":12},\"end\":{\"line\":11,\"column\":21}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">comment</i>\\r\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":12},\"end\":{\"line\":15,\"column\":24}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":12},\"end\":{\"line\":19,\"column\":25}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}